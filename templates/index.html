<!doctype html>
<html>

<head>
  <title>Weather Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <h1>Weather Dashboard</h1>
  <form method="POST">
    <input type="text" name="city" placeholder="Enter city name" required>
    <button type="submit">Get Weather</button>
  </form>

  {% if error %}
  <p style="color:red;">{{ error }}</p>
  {% endif %}

  {% if weather %}
  <div class="card">
    <h2>Weather in {{ weather.name }}</h2>
    <p>Temperature: {{ weather.main.temp }} °C</p>
    <p>Condition: {{ weather.weather[0].description }}</p>
    <p>Humidity: {{ weather.main.humidity }}%</p>
  </div>
  {% endif %}
  {% if air %}
  <div class="card">
    <h2>Air Quality</h2>

    <p>
      AQI Level: {{ air.main.aqi }} —
      {% if air.main.aqi == 1 %}Good
      {% elif air.main.aqi == 2 %}Fair
      {% elif air.main.aqi == 3 %}Moderate
      {% elif air.main.aqi == 4 %}Poor
      {% elif air.main.aqi == 5 %}Very Poor
      {% else %}Unknown
      {% endif %}
    </p>

    <h3>Pollutants:</h3>
    <table>
      <tr>
        <th>Pollutant</th>
        <th>Value (in µg/m³)</th>
      </tr>
      {% for label, value in air_components.items() %}
      <tr>
        <td>{{ label }}</td>
        <td>{{ value }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% endif %}

</body>

</html>